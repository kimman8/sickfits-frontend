/// <reference types="node" />
import type { ServerResponse, IncomingMessage } from 'http';
import type { JSONValue } from './utils';
import { CreateContext } from '.';
export declare type SessionStrategy<StoredSessionData, StartSessionData = never> = {
    start: (args: {
        res: ServerResponse;
        data: StoredSessionData | StartSessionData;
        createContext: CreateContext;
    }) => Promise<string>;
    end: (args: {
        req: IncomingMessage;
        res: ServerResponse;
        createContext: CreateContext;
    }) => Promise<void>;
    get: (args: {
        req: IncomingMessage;
        createContext: CreateContext;
    }) => Promise<StoredSessionData | undefined>;
};
export declare type SessionStore = {
    connect?: () => Promise<void>;
    disconnect?: () => Promise<void>;
    get(key: string): undefined | JSONValue | Promise<JSONValue | undefined>;
    set(key: string, value: JSONValue): any | Promise<void>;
    delete(key: string): void | boolean | Promise<void>;
};
export declare type SessionStoreFunction = (args: {
    /**
     * The number of seconds that a cookie session be valid for
     */
    maxAge: number;
}) => SessionStore;
