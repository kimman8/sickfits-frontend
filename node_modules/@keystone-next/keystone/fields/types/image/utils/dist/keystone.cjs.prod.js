'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const IMAGEREGEX = /^(local|keystone-cloud):image:([^\\\/:\n]+)\.(gif|jpg|png|webp)$/;
const getImageRef = (mode, id, extension) => `${mode}:image:${id}.${extension}`;
const SUPPORTED_IMAGE_EXTENSIONS = ['jpg', 'png', 'webp', 'gif'];
const parseImageRef = ref => {
  const match = ref.match(IMAGEREGEX);

  if (match) {
    const [, mode, id, ext] = match;
    return {
      mode: mode,
      id,
      extension: ext
    };
  }

  return undefined;
};

exports.SUPPORTED_IMAGE_EXTENSIONS = SUPPORTED_IMAGE_EXTENSIONS;
exports.getImageRef = getImageRef;
exports.parseImageRef = parseImageRef;
