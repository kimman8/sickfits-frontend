import express from 'express';
import { Test } from 'supertest';
import type { KeystoneConfig, KeystoneContext } from './types';
export declare type GraphQLRequest = (arg: {
    query: string;
    variables?: Record<string, any>;
    operationName?: string;
}) => Test;
export declare type TestArgs = {
    context: KeystoneContext;
    graphQLRequest: GraphQLRequest;
    app: express.Express;
};
export declare type TestEnv = {
    connect: () => Promise<void>;
    disconnect: () => Promise<void>;
    testArgs: TestArgs;
};
export declare function setupTestEnv({ config: _config, }: {
    config: KeystoneConfig;
}): Promise<TestEnv>;
export declare function setupTestRunner({ config }: {
    config: KeystoneConfig;
}): (testFn: (testArgs: TestArgs) => Promise<void>) => () => Promise<void>;
