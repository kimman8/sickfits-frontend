{
  "version": 3,
  "sources": ["../../src/utils/detectOldMigrate.ts"],
  "sourcesContent": ["import fs from 'fs'\nimport path from 'path'\nimport { OldMigrateDetectedError } from './errors'\n\nexport function isOldMigrate(migrationDirPath: string): boolean {\n  return fs.existsSync(path.join(migrationDirPath, 'migrate.lock'))\n}\n\nexport function throwUpgradeErrorIfOldMigrate(\n  schemaPath?: string,\n): Error | void {\n  if (!schemaPath) {\n    return\n  }\n\n  const migrationDirPath = path.join(path.dirname(schemaPath), 'migrations')\n  if (isOldMigrate(migrationDirPath)) {\n    throw new OldMigrateDetectedError()\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAe;AACf,kBAAiB;AACjB,oBAAwC;AAEjC,sBAAsB,kBAAmC;AAC9D,SAAO,kBAAG,WAAW,oBAAK,KAAK,kBAAkB;AAAA;AAG5C,uCACL,YACc;AACd,MAAI,CAAC,YAAY;AACf;AAAA;AAGF,QAAM,mBAAmB,oBAAK,KAAK,oBAAK,QAAQ,aAAa;AAC7D,MAAI,aAAa,mBAAmB;AAClC,UAAM,IAAI;AAAA;AAAA;",
  "names": []
}
