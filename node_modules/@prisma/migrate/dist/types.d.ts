interface UserFacingError {
    is_panic: boolean;
    message: string;
    error_code?: string;
    meta?: unknown;
}
export declare type UserFacingErrorWithMeta = {
    is_panic: boolean;
    message: string;
    error_code: 'P3006';
    meta: {
        migration_name: string;
        inner_error?: {
            is_panic: boolean;
            message: string;
            backtrace: string;
        };
    };
};
export declare type DriftDiagnostic = {
    diagnostic: 'driftDetected';
    rollback: string;
} | {
    diagnostic: 'migrationFailedToApply';
    error: UserFacingError;
};
export declare type HistoryDiagnostic = {
    diagnostic: 'databaseIsBehind';
    unappliedMigrationNames: string[];
} | {
    diagnostic: 'migrationsDirectoryIsBehind';
    unpersistedMigrationNames: string[];
} | {
    diagnostic: 'historiesDiverge';
    lastCommonMigrationName: string;
    unpersistedMigrationNames: string[];
    unappliedMigrationNames: string[];
};
export interface MigrationFeedback {
    message: string;
    stepIndex: number;
}
export declare type DevAction = {
    tag: 'reset';
    reason: string;
} | {
    tag: 'createMigration';
};
export declare namespace EngineArgs {
    /**
     * These RPCs need a sourceConfig, therefore a db connection to function
     */
    interface DevDiagnosticInput {
        migrationsDirectoryPath: string;
    }
    interface ListMigrationDirectoriesInput {
        migrationsDirectoryPath: string;
    }
    interface MarkMigrationAppliedInput {
        migrationsDirectoryPath: string;
        migrationName: string;
    }
    interface MarkMigrationRolledBackInput {
        migrationName: string;
    }
    interface DiagnoseMigrationHistoryInput {
        migrationsDirectoryPath: string;
        optInToShadowDatabase: boolean;
    }
    interface PlanMigrationInput {
        migrationsDirectoryPath: string;
        prismaSchema: string;
    }
    interface EvaluateDataLossInput {
        migrationsDirectoryPath: string;
        prismaSchema: string;
    }
    interface CreateMigrationInput {
        migrationsDirectoryPath: string;
        prismaSchema: string;
        draft: boolean;
        migrationName?: string;
    }
    interface ApplyMigrationsInput {
        migrationsDirectoryPath: string;
    }
    interface SchemaPush {
        schema: string;
        force: boolean;
    }
    interface DropDatabase {
        schema: string;
    }
}
export declare namespace EngineResults {
    interface ListMigrationDirectoriesOutput {
        migrations: string[];
    }
    interface DiagnoseMigrationHistoryOutput {
        history: HistoryDiagnostic | null;
        failedMigrationNames: string[];
        editedMigrationNames: string[];
        hasMigrationsTable: boolean;
    }
    interface DevDiagnosticOutput {
        action: DevAction;
    }
    interface PlanMigrationOutput {
    }
    interface EvaluateDataLossOutput {
        migrationSteps: number;
        warnings: MigrationFeedback[];
        unexecutableSteps: MigrationFeedback[];
    }
    interface CreateMigrationOutput {
        generatedMigrationName: string | null;
    }
    interface ApplyMigrationsOutput {
        appliedMigrationNames: string[];
    }
    interface SchemaPush {
        executedSteps: number;
        warnings: string[];
        unexecutable: string[];
    }
}
export interface FileMap {
    [fileName: string]: string;
}
export interface Dictionary<T> {
    [key: string]: T;
}
export {};
